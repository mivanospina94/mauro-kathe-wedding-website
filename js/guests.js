$(document).ready(function() {
	let url = new URL(window.location.href);
	let params = url.searchParams;
	let guestId = null;
	
	for (var param of params) {
	  if (param[0].toLowerCase() === "guestid") {
		guestId = param[1];
		break;
	  }
	}

	const ciphertext = "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";
	let JsonObject = decrypt(ciphertext);
	let guest = JsonObject.find(x => x.id == guestId);

	if (guest !== undefined) {
		$("#num_persons_1").text(guest.tickets);
		$("#num_persons_2").text(guest.tickets);
		$(".text-guests").text(guest.familia);
		
		if (guest.tickets === 1)
			$("#tickets_text").text("Tenemos 1 lugar reservado para ti")
		else
			$("#tickets_text").text("Tenemos " + guest.tickets + " lugares reservados para ti")
		
	} else {
		$(".guests").hide();
		document.write("404 - Not Found");
	}
	
	function encrypt(jsonInput) {
		const JsonString = JSON.stringify(jsonInput);
		const key = "80d8f65051dd76dd8ffe16fddd875d2a";
		const ciphertext = CryptoJS.AES.encrypt(JsonString, key).toString();

		return ciphertext;
	}
	
	function decrypt(ciphertext){
		const key = "80d8f65051dd76dd8ffe16fddd875d2a";
		const bytesDesencriptados = CryptoJS.AES.decrypt(ciphertext, key);
		const JsonString = bytesDesencriptados.toString(CryptoJS.enc.Utf8);
		return JSON.parse(JsonString);
	}
});